(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{475:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"section-26-intermediate-express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#section-26-intermediate-express","aria-hidden":"true"}},[s._v("#")]),s._v(" Section 26 - Intermediate Express")]),s._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents","aria-hidden":"true"}},[s._v("#")]),s._v(" Table of Contents")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#section-26---intermediate-express"}},[s._v("Section 26 - Intermediate Express")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#table-of-contents"}},[s._v("Table of Contents")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-note-about-templates-and-ejs"}},[s._v("[Lecture] Note about Templates and EJS")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-templates-and-ejs"}},[s._v("[Lecture] Templates and EJS")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#resrender"}},[a("code",[s._v("res.render()")])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#ejs"}},[s._v("EJS")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-ejs-conditionals-and-loops"}},[s._v("[Lecture] EJS: Conditionals and Loops")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#condition"}},[s._v("Condition")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#loops"}},[s._v("Loops")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-serving-custom-assets"}},[s._v("[Lecture] Serving Custom Assets")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#configure-the-app-to-use-ejs"}},[s._v("Configure the app to use EJS")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#use-partials-to-dry-up-the-code"}},[s._v("Use Partials to dry up the code")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-post-requests-part-i"}},[s._v("[Lecture] Post Requests Part I")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#lecture-post-requests-part-ii"}},[s._v("[Lecture] Post Requests Part II")])])])])]),s._v(" "),a("h2",{attrs:{id:"lecture-note-about-templates-and-ejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-note-about-templates-and-ejs","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] Note about Templates and EJS")]),s._v(" "),a("p",[s._v("當透過 "),a("code",[s._v("npm init")]),s._v(" 命令創建專案或資料夾時，務必先確認名稱不要與專案中的其他套件相同，比如不要將套件名稱命名為 "),a("code",[s._v("ejs")]),s._v(" 或 "),a("code",[s._v("express")]),s._v("，否則在嘗試使用 "),a("code",[s._v("npm install --save <package name>")]),s._v(" 命令安裝套件時將會出現以下錯誤：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Refusing to install <package name> as a dependency of itsel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("除此之外，專案名稱必須全部為小寫字母並排除掉網址中不適合出現的字符，比如說空白 "),a("code"),s._v(" 可以改用減號 "),a("code",[s._v("-")]),s._v(" 取代。")]),s._v(" "),a("h2",{attrs:{id:"lecture-templates-and-ejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-templates-and-ejs","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] Templates and EJS")]),s._v(" "),a("h3",{attrs:{id:"res-render"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#res-render","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("res.render()")])]),s._v(" "),a("p",[s._v("創建路由時，固然可以用 "),a("code",[s._v("res.send()")]),s._v(" 回傳 HTML 代碼，但倘若要生成頁面會讓代碼變得複雜又亂，此時可以透過 "),a("code",[s._v("res.render()")]),s._v(" 渲染指定的 HTML 檔案：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"home.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("值得注意的是 "),a("code",[s._v("res.render()")]),s._v(" 中的檔案路徑，預設文件夾是在 "),a("code",[s._v("/views/")]),s._v(" 下。")]),s._v(" "),a("h3",{attrs:{id:"ejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ejs","aria-hidden":"true"}},[s._v("#")]),s._v(" EJS")]),s._v(" "),a("p",[s._v("EJS 指的是 "),a("code",[s._v("Embedded JavaScript")]),s._v(" 或 "),a("code",[s._v("Effective JavaScript")]),s._v("，使得我們可以在類似 HTML 的文件中加上特定的標註，僅在標註內執行 JavaScript，只需要透過 "),a("code",[s._v("npm install ejs --save")]),s._v(" 安裝套件後便可以使用。而路由中的變數也可以透過以下方式傳遞進去：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/fellinlovewith/:thing"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" thing "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("thing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"love.ejs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("thingVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" thing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("使用時：")]),s._v(" "),a("div",{staticClass:"language-ejs line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<h1>You fell in love with: <%= thingVar.toUpperCase() %></h1>\n<p>P.S. this is the love.js</p>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("詳細內容可以參考文件說明：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://ejs.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("EJS - 高效的 JavaScript 模板引擎"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"lecture-ejs-conditionals-and-loops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-ejs-conditionals-and-loops","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] EJS: Conditionals and Loops")]),s._v(" "),a("p",[s._v("EJS 中的標註有三種型態，分別是：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("<%= %>")])]),s._v(" "),a("li",[a("code",[s._v("<%- %>")])]),s._v(" "),a("li",[a("code",[s._v("<% %>")])])]),s._v(" "),a("h3",{attrs:{id:"condition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#condition","aria-hidden":"true"}},[s._v("#")]),s._v(" Condition")]),s._v(" "),a("p",[s._v("在使用條件判斷式時，採用 "),a("code",[s._v("<% %>")]),s._v(" 進行標註：")]),s._v(" "),a("div",{staticClass:"language-ejs line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<% if(thingVar.toLowerCase() === "rusty") { %>\n  <p>GOOD CHOICE! RUSTY IS THE BEST!</p>\n<% } else { %>\n  <p>Bad Choice! You should have say Rusty!</p>\n<% } %>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"loops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loops","aria-hidden":"true"}},[s._v("#")]),s._v(" Loops")]),s._v(" "),a("p",[s._v("在使用迴圈時，採用 "),a("code",[s._v("<% %>")]),s._v(" 進行標註：")]),s._v(" "),a("div",{staticClass:"language-ejs line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<% for (var i = 0; i < posts.length; i++){ %>\n  <li>\n    <%= posts[i].title %> - <strong><%= posts[i].author %></strong>\n  </li>\n<% } %>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"language-ejs line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<% posts.forEach(function(post) { %>\n  <li>\n    <%= post.title %> - <strong><%= post.author %></strong>\n  </li>\n<% }) %>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"lecture-serving-custom-assets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-serving-custom-assets","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] Serving Custom Assets")]),s._v(" "),a("p",[s._v("倘若我們要替頁面加上 CSS 或 JavaScript 效果，當然可以在每一個 ejs 檔案中添加 "),a("code",[s._v("<style>")]),s._v(" 標籤，但這無疑是個不便利且笨拙的方法。較佳的方式是透過如下的方式引入資源：")]),s._v(" "),a("div",{staticClass:"language-htmlmixed line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<link ref="stylesheet" href="/style.css">\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("而我們通常是將這類資源存放在 "),a("code",[s._v("public")]),s._v(" 文件夾下，然而必須透過以下的方式告知 node.js 在伺服器執行時，存取檔案的預設路徑：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Default express variable")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"express"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Setting the static PATH")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"configure-the-app-to-use-ejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-the-app-to-use-ejs","aria-hidden":"true"}},[s._v("#")]),s._v(" Configure the app to use EJS")]),s._v(" "),a("p",[s._v("除此之外，我們可以透過以下方式設定預設的渲染引擎，也就是往後在路由中渲染頁面時不用加上後綴的副檔名：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Default express variable")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"express"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Setting the static PATH")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"view engine"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ejs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("也就是說：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Before Setting "view engine"')]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"home.ejs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// After Setting "view engine"')]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"home"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"use-partials-to-dry-up-the-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use-partials-to-dry-up-the-code","aria-hidden":"true"}},[s._v("#")]),s._v(" Use Partials to dry up the code")]),s._v(" "),a("p",[s._v("多數的網頁在建構時，會有許多重複部分，我們可以有效地切分並製作 "),a("strong",[s._v("模板（template）")]),s._v(" 儲存於路徑 "),a("code",[s._v("/view/partials")]),s._v(" 下，並透過以下方法引用：")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" include partials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("header "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" include partials"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("footer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("此處有一個重點的是對於路徑的正確設定，在使用相對路徑時，最前方有沒有加上斜線是有差別的，比如說：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("image/logo.jpg")]),s._v(": 同一文件夾下的 "),a("code",[s._v("image")]),s._v(" 文件夾中的 "),a("code",[s._v("logo.jpg")]),s._v(" 檔案。")]),s._v(" "),a("li",[a("code",[s._v("/image/logo.jpg")]),s._v(": 根目錄下的 "),a("code",[s._v("image")]),s._v(" 文件夾中的 "),a("code",[s._v("logo.jpg")]),s._v(" 檔案。")])]),s._v(" "),a("h2",{attrs:{id:"lecture-post-requests-part-i"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-post-requests-part-i","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] Post Requests Part I")]),s._v(" "),a("h2",{attrs:{id:"lecture-post-requests-part-ii"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lecture-post-requests-part-ii","aria-hidden":"true"}},[s._v("#")]),s._v(" [Lecture] Post Requests Part II")])])},[],!1,null,null,null);t.default=n.exports}}]);